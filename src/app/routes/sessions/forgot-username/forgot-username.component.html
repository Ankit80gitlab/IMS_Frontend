<div class="d-flex w-full h-full">
    <mat-card class="m-auto" style="max-width: 380px;">
        <mat-card-header class="m-b-24">
            <mat-card-title style="color: white;">{{'Forgot Username' | translate}}</mat-card-title>
        </mat-card-header>

        <mat-card-content>

            <form class="form-field-full" [formGroup]="forgetUserName">
                <mat-form-field appearance="outline">
                    <mat-label>{{'Email ID' | translate}}: </mat-label>
                    <input matInput type="email" formControlName="email" required>
                    @if (forgetUserName.get('email')?.invalid && forgetUserName.get('email')?.touched &&
                    forgetUserName.get('email')?.errors.required) {
                    <mat-error>This field is required</mat-error>
                    }
                </mat-form-field>


                <button [disabled]="forgetUserName.get('email')?.invalid || disableOtp" mat-raised-button
                    class="menuTrigger" (click)="getOtp()">Get OTP
                    <mat-icon style="color: #26a331;">done</mat-icon>
                </button>

                @if(timeRemainStatus){
                <div style="display: flex; justify-content: flex-end;">
                    <div>
                        <small style="color: gainsboro;">
                            00:{{timer}}
                        </small>
                    </div>
                </div>
                }@else{
                <br><br>
                }

                @if(enableOtpField){
                <mat-form-field appearance="outline">
                    <mat-label>{{'OTP' | translate}}: </mat-label>
                    <input matInput class="no-arrows" type="number" formControlName="otp" required>
                    @if (forgetUserName.get('otp')?.invalid && forgetUserName.get('otp')?.touched &&
                    forgetUserName.get('otp')?.errors.required) {
                    <mat-error>This field is required</mat-error>
                    }
                </mat-form-field>
                }

                @if(result){
                <h5 style="color: white;">Your username is : {{userName}}</h5>
                
                    <mat-icon (click)="copyText()" class="copyButton">content_copy</mat-icon>
               
                }

                @if(visibleValidateButton){
                <button class="w-full m-y-16" mat-raised-button color="primary" [disabled]="forgetUserName.invalid"
                    (click)="validate()">{{'Validate' | translate}}</button>
                }

            </form>

            <div style="display: flex; justify-content: flex-end; cursor: pointer;">
                <a class="link" (click)="loginPage()"><small>Go to login page</small></a>
            </div>


        </mat-card-content>
    </mat-card>
</div>